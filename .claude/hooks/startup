#!/bin/bash
# Startup Hook for ValetFlow Project
# Runs when Claude Code session starts

set -e

echo "ğŸš€ ValetFlow Development Environment"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# Check Xcode installation
if command -v xcodebuild &> /dev/null; then
    XCODE_VERSION=$(xcodebuild -version | head -1)
    echo "âœ“ $XCODE_VERSION"
else
    echo "âœ— Xcode not found"
    exit 1
fi

# Check current git branch
if git rev-parse --git-dir > /dev/null 2>&1; then
    BRANCH=$(git branch --show-current)
    echo "âœ“ Git branch: $BRANCH"

    # Check for uncommitted changes
    if ! git diff-index --quiet HEAD -- 2>/dev/null; then
        echo "âš  You have uncommitted changes"
    fi
else
    echo "âœ— Not a git repository"
fi

# Check for available simulators
if xcrun simctl list devices available 2>/dev/null | grep -q "iPhone"; then
    echo "âœ“ iOS Simulators available"
else
    echo "âš  No iOS Simulators found"
fi

# Display project info
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“± Project: ValetFlow"
echo "ğŸ¯ Scheme: ValetFlow"
echo "ğŸ“¦ Bundle ID: com.valetflow.ValetFlow"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
